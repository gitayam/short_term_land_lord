{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <div class="row">
        <div class="col-lg-8 offset-lg-2">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h2 class="h4 mb-0">
                        {% if item %}Edit{% else %}Add{% endif %} Global Catalog Item
                    </h2>
                </div>
                <div class="card-body">
                    <div class="alert alert-info mb-4">
                        <h5 class="alert-heading">About the Global Inventory Catalog</h5>
                        <p>The catalog contains general information about inventory items that can be used across all properties. 
                        Once added to the catalog, these items can be added to specific properties with location and quantity information.</p>
                    </div>
                    
                    <form method="post" novalidate>
                        {{ form.hidden_tag() }}
                        
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <div class="form-group">
                                    {{ form.name.label(class="form-label") }}
                                    {{ form.name(class="form-control" + (" is-invalid" if form.name.errors else "")) }}
                                    {% for error in form.name.errors %}
                                    <div class="invalid-feedback">{{ error }}</div>
                                    {% endfor %}
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    {{ form.category.label(class="form-label") }}
                                    {{ form.category(class="form-select" + (" is-invalid" if form.category.errors else "")) }}
                                    {% for error in form.category.errors %}
                                    <div class="invalid-feedback">{{ error }}</div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group mb-3">
                            {{ form.unit.label(class="form-label") }}
                            {{ form.unit(class="form-control" + (" is-invalid" if form.unit.errors else ""), placeholder="e.g., bottles, boxes, rolls") }}
                            {% for error in form.unit.errors %}
                            <div class="invalid-feedback">{{ error }}</div>
                            {% endfor %}
                        </div>
                        
                        <hr>
                        <h5>Additional Details</h5>
                        
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <div class="form-group">
                                    {{ form.unit_price.label(class="form-label") }}
                                    {{ form.unit_price(class="form-control" + (" is-invalid" if form.unit_price.errors else ""), type="number", step="0.01", placeholder="Price per unit") }}
                                    {% for error in form.unit_price.errors %}
                                    <div class="invalid-feedback">{{ error }}</div>
                                    {% endfor %}
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    {{ form.currency.label(class="form-label") }}
                                    {{ form.currency(class="form-control" + (" is-invalid" if form.currency.errors else ""), placeholder="Currency code (e.g., USD)") }}
                                    {% for error in form.currency.errors %}
                                    <div class="invalid-feedback">{{ error }}</div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group mb-3">
                            {{ form.description.label(class="form-label") }}
                            {{ form.description(class="form-control" + (" is-invalid" if form.description.errors else ""), rows=3) }}
                            {% for error in form.description.errors %}
                            <div class="invalid-feedback">{{ error }}</div>
                            {% endfor %}
                        </div>
                        
                        <div class="d-flex justify-content-between mt-4">
                            <a href="{{ url_for('inventory.catalog_index') }}" class="btn btn-outline-secondary">
                                <i class="fas fa-arrow-left"></i> Cancel
                            </a>
                            {{ form.submit(class="btn btn-primary") }}
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
